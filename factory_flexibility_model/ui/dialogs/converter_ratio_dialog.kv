# This file defines the dialog window that pops up when the user selects the ratio-config button within the converter config tab.
# The dives an overview of incoming and outgoing connections to/from the selected converter and allows the user to specify all the weights of involved flowtypes

<dialog_converter_ratios>
    size_hint: None, None
    width:dp(1000)
    height:dp(1000)
    orientation: "vertical"
    spacing: 20

    MDCard:
        padding: 20
        spacing: 20
        orientation: "vertical"
        elevation: 1
        BoxLayout:
            spacing: 20
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            MDLabel:
                text: "Energy Inputs"
                halign: "center"
            MDIcon:
                icon: "lightning-bolt"
                pos_hint: {"center_x": .5, "center_y": .5}
                size_hint_x: .3
            MDLabel:
                text: "Energy Outputs"
                halign: "center"

        BoxLayout:
            spacing: 20
            orientation: "horizontal"
            ScrollView:
                size_hint_x: .45
                MDList:
                    id: list_converter_inputs_energy
            Widget:
                size_hint: (None, None)
                width: dp(60)
            ScrollView:
                size_hint_x: .45
                MDList:
                    id: list_converter_outputs_energy
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(40)
            MDLabel:
                id: label_energy_in
                text: "INPUT SUM"
                halign: "center"
            Image:
                source: "Assets\\arrow.png"
                size_hint: (None, None)
                width: dp(60)
                pos_hint: {'center_y': 0.5}
            MDLabel:
                id: label_energy_out
                text: "OUTPUT SUM + losses"
                halign: "center"

    MDCard:
        orientation: "vertical"
        padding: 20
        spacing: 20
        elevation: 1
        BoxLayout:
            spacing: 20
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            MDLabel:
                text: "Mass Inputs"
                halign: "center"
            MDIcon:
                icon: "weight"
                pos_hint: {"center_x": .5, "center_y": .5}
                size_hint_x: .3
            MDLabel:
                text: "Mass Outputs"
                halign: "center"

        BoxLayout:
            orientation: "horizontal"
            spacing: 20
            ScrollView:
                size_hint_x: .45
                MDList:
                    id: list_converter_inputs_mass
            Widget:
                size_hint: (None, None)
                height: dp(60)
            ScrollView:
                size_hint_x: .45
                MDList:
                    id: list_converter_outputs_mass
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(40)
            MDLabel:
                id: label_mass_in
                text: "INPUT SUM"
                halign: "center"
            Image:
                source: "Assets\\arrow.png"
                size_hint: (None, None)
                width: dp(60)
                pos_hint: {'center_y': 0.5}
            MDLabel:
                id: label_mass_out
                text: "OUTPUT SUM + losses"
                halign: "center"

    BoxLayout:
        padding: (10,10)
        orientation: "horizontal"
        size_hint_y: None
        height: dp(50)
        Widget:
        MDFlatButton:
            text: "Cancel"
            on_release: app.close_dialog()
        MDRaisedButton:
            text: "Save Changes"
            on_release: app.app_save_converter_ratios()

<TextfieldCheckboxIconListItem>
    BoxLayout:
        spacing: 10
        pos_hint: {"center_y": .5}
        size_hint_y: None
        height: self.minimum_height
        Widget:
        MDTextField:
            id: list_item_textfield
            size_hint_x: None
            width: dp(100)
            mode: "round"
            helper_text_mode: "persistent"
            on_text: app.app_update_bilance_calculation()
        MDIcon:
            icon: "trash-can-outline"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint_x: None
            width: dp(30)
        MDCheckbox:
            id: list_item_checkbox
            size_hint_x: None
            width: dp(30)
            on_active: app.app_update_bilance_calculation()

<TextfieldIconListItem>
    MDTextField:
        id: list_item_textfield
        pos_hint: {"center_y": .5, "right": 1}
        size_hint: None, None
        height: self.minimum_height
        width: dp(100)
        mode: "round"
        helper_text_mode: "persistent"
        on_text: app.app_update_bilance_calculation()
